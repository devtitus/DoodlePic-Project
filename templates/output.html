<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Art Spark</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/output.css') }}"
    />
  </head>
  <body>
    <div class="container">
      <div class="card-container">
        <h1 class="output-heading">Art Spark</h1>
        <div class="box-link-container">
          <div class="box">
            <img
              src="{{ url_for('send_output', filename=filename) }}"
              alt="Sketch"
            />
          </div>
          <div class="link">
            <div class="button-container">
              <button class="upload-another-btn">
                <a class="upload-another" href="/">Upload Image</a>
              </button>
              <button class="download-btn" onclick="downloadImage()">
                Download
                <svg
                  class="download-icon"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <rect width="24" height="24" fill="transparent" />
                  <path
                    d="M5 12V18C5 18.5523 5.44772 19 6 19H18C18.5523 19 19 18.5523 19 18V12"
                    stroke="currentColor"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M12 3L12 15M12 15L16 11M12 15L8 11"
                    stroke="currentColor"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </button>
            </div>
            <div class="download-message" id="downloadMessage">
              Your download will start soon...
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      function downloadImage() {
        const downloadMessage = document.getElementById("downloadMessage");
        const downloadLink = document.createElement("a");
        downloadLink.href = "{{ url_for('send_output', filename=filename) }}";
        downloadLink.download = "sketch.png";
        downloadLink.click();
        downloadMessage.style.display = "block";
      }
    </script>
  </body>
</html>
